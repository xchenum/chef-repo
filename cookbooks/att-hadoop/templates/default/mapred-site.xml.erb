<!-- generated by chef -->

<configuration>
  <property>
    <name>mapred.job.tracker</name>
    <value><%= @master %>:54311</value>
    <description>The host and port that the MapReduce job tracker runs
    at.  If "local", then jobs are run in-process as a single map
    and reduce task.
    </description>
  </property>
  <property>
    <name>mapred.map.tasks</name>
    <value><%= @map_tasks %></value>
    <description>The host and port that the MapReduce job tracker runs
    at.  If "local", then jobs are run in-process as a single map
    and reduce task.
    </description>
  </property>
  <property>
    <name>mapred.reduce.tasks</name>
    <value><%= @reduce_tasks %></value>
    <description>The host and port that the MapReduce job tracker runs
    at.  If "local", then jobs are run in-process as a single map
    and reduce task.
    </description>
  </property>
  <property>
    <name>mapred.compress.map.output</name>
    <value>true</value>
    <description> enable mapper output compression for performance
    </description>
  </property>
  <property>
    <name>mapred.map.output.compression.codec</name>
    <value>com.hadoop.compression.lzo.LzoCodec</value>
  </property>
  <property>
    <name>mapred.tasktracker.map.tasks.maximum</name>
    <value><%= @map_per_node %></value>
  </property>
  <property>
    <name>mapred.tasktracker.reduce.tasks.maximum</name>
    <value><%= @reduce_per_node %></value>
  </property>
  <property>
    <name>mapred.reduce.parallel.copies</name>
    <value>20</value>
  </property>
  <property>
    <name>mapred.job.tracker.handler.count</name>
    <value>60</value>
  </property>
</configuration>
